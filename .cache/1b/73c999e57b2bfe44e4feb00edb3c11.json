{"id":"node_modules/@inrupt/solid-client-authn-browser/dist/dependencies.js","dependencies":[{"name":"G:\\VSC\\mysolidapp\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\dependencies.js.map","includedInParent":true,"mtime":1624384349180},{"name":"G:\\VSC\\mysolidapp\\node_modules\\@inrupt\\solid-client-authn-browser\\src\\dependencies.ts","includedInParent":true,"mtime":1624384349256},{"name":"G:\\VSC\\mysolidapp\\package.json","includedInParent":true,"mtime":1624384368825},{"name":"G:\\VSC\\mysolidapp\\node_modules\\@inrupt\\solid-client-authn-browser\\package.json","includedInParent":true,"mtime":1624384349238},{"name":"reflect-metadata","loc":{"line":7,"column":8},"parent":"G:\\VSC\\mysolidapp\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\dependencies.js","resolved":"G:\\VSC\\mysolidapp\\node_modules\\reflect-metadata\\Reflect.js"},{"name":"tsyringe","loc":{"line":8,"column":27},"parent":"G:\\VSC\\mysolidapp\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\dependencies.js","resolved":"G:\\VSC\\mysolidapp\\node_modules\\tsyringe\\dist\\esm5\\index.js"},{"name":"@inrupt/solid-client-authn-core","loc":{"line":9,"column":42},"parent":"G:\\VSC\\mysolidapp\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\dependencies.js","resolved":"G:\\VSC\\mysolidapp\\node_modules\\@inrupt\\solid-client-authn-core\\dist\\index.js"},{"name":"./storage/StorageUtility","loc":{"line":10,"column":49},"parent":"G:\\VSC\\mysolidapp\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\dependencies.js","resolved":"G:\\VSC\\mysolidapp\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\storage\\StorageUtility.js"},{"name":"./ClientAuthentication","loc":{"line":11,"column":55},"parent":"G:\\VSC\\mysolidapp\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\dependencies.js","resolved":"G:\\VSC\\mysolidapp\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\ClientAuthentication.js"},{"name":"./login/oidc/OidcLoginHandler","loc":{"line":12,"column":51},"parent":"G:\\VSC\\mysolidapp\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\dependencies.js","resolved":"G:\\VSC\\mysolidapp\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\login\\oidc\\OidcLoginHandler.js"},{"name":"./login/oidc/AggregateOidcHandler","loc":{"line":13,"column":55},"parent":"G:\\VSC\\mysolidapp\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\dependencies.js","resolved":"G:\\VSC\\mysolidapp\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\login\\oidc\\AggregateOidcHandler.js"},{"name":"./login/oidc/oidcHandlers/AuthorizationCodeOidcHandler","loc":{"line":14,"column":63},"parent":"G:\\VSC\\mysolidapp\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\dependencies.js","resolved":"G:\\VSC\\mysolidapp\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\login\\oidc\\oidcHandlers\\AuthorizationCodeOidcHandler.js"},{"name":"./login/oidc/oidcHandlers/AuthorizationCodeWithPkceOidcHandler","loc":{"line":15,"column":71},"parent":"G:\\VSC\\mysolidapp\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\dependencies.js","resolved":"G:\\VSC\\mysolidapp\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\login\\oidc\\oidcHandlers\\AuthorizationCodeWithPkceOidcHandler.js"},{"name":"./login/oidc/oidcHandlers/ClientCredentialsOidcHandler","loc":{"line":16,"column":63},"parent":"G:\\VSC\\mysolidapp\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\dependencies.js","resolved":"G:\\VSC\\mysolidapp\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\login\\oidc\\oidcHandlers\\ClientCredentialsOidcHandler.js"},{"name":"./login/oidc/oidcHandlers/PrimaryDeviceOidcHandler","loc":{"line":17,"column":59},"parent":"G:\\VSC\\mysolidapp\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\dependencies.js","resolved":"G:\\VSC\\mysolidapp\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\login\\oidc\\oidcHandlers\\PrimaryDeviceOidcHandler.js"},{"name":"./login/oidc/oidcHandlers/SecondaryDeviceOidcHandler","loc":{"line":18,"column":61},"parent":"G:\\VSC\\mysolidapp\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\dependencies.js","resolved":"G:\\VSC\\mysolidapp\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\login\\oidc\\oidcHandlers\\SecondaryDeviceOidcHandler.js"},{"name":"./login/oidc/oidcHandlers/RefreshTokenOidcHandler","loc":{"line":19,"column":58},"parent":"G:\\VSC\\mysolidapp\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\dependencies.js","resolved":"G:\\VSC\\mysolidapp\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\login\\oidc\\oidcHandlers\\RefreshTokenOidcHandler.js"},{"name":"./login/oidc/IssuerConfigFetcher","loc":{"line":20,"column":54},"parent":"G:\\VSC\\mysolidapp\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\dependencies.js","resolved":"G:\\VSC\\mysolidapp\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\login\\oidc\\IssuerConfigFetcher.js"},{"name":"./login/oidc/redirectHandler/FallbackRedirectHandler","loc":{"line":21,"column":42},"parent":"G:\\VSC\\mysolidapp\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\dependencies.js","resolved":"G:\\VSC\\mysolidapp\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\login\\oidc\\redirectHandler\\FallbackRedirectHandler.js"},{"name":"./logout/GeneralLogoutHandler","loc":{"line":22,"column":55},"parent":"G:\\VSC\\mysolidapp\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\dependencies.js","resolved":"G:\\VSC\\mysolidapp\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\logout\\GeneralLogoutHandler.js"},{"name":"./sessionInfo/SessionInfoManager","loc":{"line":23,"column":37},"parent":"G:\\VSC\\mysolidapp\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\dependencies.js","resolved":"G:\\VSC\\mysolidapp\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\sessionInfo\\SessionInfoManager.js"},{"name":"./login/oidc/redirectHandler/AuthCodeRedirectHandler","loc":{"line":24,"column":42},"parent":"G:\\VSC\\mysolidapp\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\dependencies.js","resolved":"G:\\VSC\\mysolidapp\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\login\\oidc\\redirectHandler\\AuthCodeRedirectHandler.js"},{"name":"./login/oidc/redirectHandler/AggregateRedirectHandler","loc":{"line":25,"column":59},"parent":"G:\\VSC\\mysolidapp\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\dependencies.js","resolved":"G:\\VSC\\mysolidapp\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\login\\oidc\\redirectHandler\\AggregateRedirectHandler.js"},{"name":"./storage/BrowserStorage","loc":{"line":26,"column":49},"parent":"G:\\VSC\\mysolidapp\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\dependencies.js","resolved":"G:\\VSC\\mysolidapp\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\storage\\BrowserStorage.js"},{"name":"./login/oidc/Redirector","loc":{"line":27,"column":45},"parent":"G:\\VSC\\mysolidapp\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\dependencies.js","resolved":"G:\\VSC\\mysolidapp\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\login\\oidc\\Redirector.js"},{"name":"./login/oidc/ClientRegistrar","loc":{"line":28,"column":50},"parent":"G:\\VSC\\mysolidapp\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\dependencies.js","resolved":"G:\\VSC\\mysolidapp\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\login\\oidc\\ClientRegistrar.js"},{"name":"./SessionManager","loc":{"line":29,"column":33},"parent":"G:\\VSC\\mysolidapp\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\dependencies.js","resolved":"G:\\VSC\\mysolidapp\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\SessionManager.js"},{"name":"./login/AggregateLoginHandler","loc":{"line":30,"column":56},"parent":"G:\\VSC\\mysolidapp\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\dependencies.js","resolved":"G:\\VSC\\mysolidapp\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\login\\AggregateLoginHandler.js"}],"generated":{"js":"\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.getClientAuthenticationWithDependencies = void 0;\r\nrequire(\"reflect-metadata\");\r\nconst tsyringe_1 = require(\"tsyringe\");\r\nconst solid_client_authn_core_1 = require(\"@inrupt/solid-client-authn-core\");\r\nconst StorageUtility_1 = __importDefault(require(\"./storage/StorageUtility\"));\r\nconst ClientAuthentication_1 = __importDefault(require(\"./ClientAuthentication\"));\r\nconst OidcLoginHandler_1 = __importDefault(require(\"./login/oidc/OidcLoginHandler\"));\r\nconst AggregateOidcHandler_1 = __importDefault(require(\"./login/oidc/AggregateOidcHandler\"));\r\nconst AuthorizationCodeOidcHandler_1 = __importDefault(require(\"./login/oidc/oidcHandlers/AuthorizationCodeOidcHandler\"));\r\nconst AuthorizationCodeWithPkceOidcHandler_1 = __importDefault(require(\"./login/oidc/oidcHandlers/AuthorizationCodeWithPkceOidcHandler\"));\r\nconst ClientCredentialsOidcHandler_1 = __importDefault(require(\"./login/oidc/oidcHandlers/ClientCredentialsOidcHandler\"));\r\nconst PrimaryDeviceOidcHandler_1 = __importDefault(require(\"./login/oidc/oidcHandlers/PrimaryDeviceOidcHandler\"));\r\nconst SecondaryDeviceOidcHandler_1 = __importDefault(require(\"./login/oidc/oidcHandlers/SecondaryDeviceOidcHandler\"));\r\nconst RefreshTokenOidcHandler_1 = __importDefault(require(\"./login/oidc/oidcHandlers/RefreshTokenOidcHandler\"));\r\nconst IssuerConfigFetcher_1 = __importDefault(require(\"./login/oidc/IssuerConfigFetcher\"));\r\nconst FallbackRedirectHandler_1 = require(\"./login/oidc/redirectHandler/FallbackRedirectHandler\");\r\nconst GeneralLogoutHandler_1 = __importDefault(require(\"./logout/GeneralLogoutHandler\"));\r\nconst SessionInfoManager_1 = require(\"./sessionInfo/SessionInfoManager\");\r\nconst AuthCodeRedirectHandler_1 = require(\"./login/oidc/redirectHandler/AuthCodeRedirectHandler\");\r\nconst AggregateRedirectHandler_1 = __importDefault(require(\"./login/oidc/redirectHandler/AggregateRedirectHandler\"));\r\nconst BrowserStorage_1 = __importDefault(require(\"./storage/BrowserStorage\"));\r\nconst Redirector_1 = __importDefault(require(\"./login/oidc/Redirector\"));\r\nconst ClientRegistrar_1 = __importDefault(require(\"./login/oidc/ClientRegistrar\"));\r\nconst SessionManager_1 = require(\"./SessionManager\");\r\nconst AggregateLoginHandler_1 = __importDefault(require(\"./login/AggregateLoginHandler\"));\r\nconst container = tsyringe_1.container;\r\ncontainer.register(\"browser:storageUtility\", {\r\n    useClass: StorageUtility_1.default,\r\n});\r\ncontainer.register(\"browser:sessionInfoManager\", {\r\n    useClass: SessionInfoManager_1.SessionInfoManager,\r\n});\r\ncontainer.register(\"browser:sessionManager\", {\r\n    useClass: SessionManager_1.SessionManager,\r\n});\r\ncontainer.register(\"browser:loginHandler\", {\r\n    useClass: AggregateLoginHandler_1.default,\r\n});\r\ncontainer.register(\"browser:loginHandlers\", {\r\n    useClass: OidcLoginHandler_1.default,\r\n});\r\ncontainer.register(\"browser:oidcHandler\", {\r\n    useClass: AggregateOidcHandler_1.default,\r\n});\r\ncontainer.register(\"browser:oidcHandlers\", {\r\n    useClass: RefreshTokenOidcHandler_1.default,\r\n});\r\ncontainer.register(\"browser:oidcHandlers\", {\r\n    useClass: AuthorizationCodeOidcHandler_1.default,\r\n});\r\ncontainer.register(\"browser:oidcHandlers\", {\r\n    useClass: AuthorizationCodeWithPkceOidcHandler_1.default,\r\n});\r\ncontainer.register(\"browser:oidcHandlers\", {\r\n    useClass: ClientCredentialsOidcHandler_1.default,\r\n});\r\ncontainer.register(\"browser:oidcHandlers\", {\r\n    useClass: PrimaryDeviceOidcHandler_1.default,\r\n});\r\ncontainer.register(\"browser:oidcHandlers\", {\r\n    useClass: SecondaryDeviceOidcHandler_1.default,\r\n});\r\ncontainer.register(\"browser:redirector\", {\r\n    useClass: Redirector_1.default,\r\n});\r\ncontainer.register(\"browser:clientRegistrar\", {\r\n    useClass: ClientRegistrar_1.default,\r\n});\r\ncontainer.register(\"browser:redirectHandler\", {\r\n    useClass: AggregateRedirectHandler_1.default,\r\n});\r\ncontainer.register(\"browser:redirectHandlers\", {\r\n    useClass: AuthCodeRedirectHandler_1.AuthCodeRedirectHandler,\r\n});\r\ncontainer.register(\"browser:redirectHandlers\", {\r\n    useClass: FallbackRedirectHandler_1.FallbackRedirectHandler,\r\n});\r\ncontainer.register(\"browser:issuerConfigFetcher\", {\r\n    useClass: IssuerConfigFetcher_1.default,\r\n});\r\ncontainer.register(\"browser:logoutHandler\", {\r\n    useClass: GeneralLogoutHandler_1.default,\r\n});\r\nfunction getClientAuthenticationWithDependencies(dependencies) {\r\n    const secureStorage = dependencies.secureStorage || new solid_client_authn_core_1.InMemoryStorage();\r\n    const insecureStorage = dependencies.insecureStorage || new BrowserStorage_1.default();\r\n    const authenticatorContainer = container.createChildContainer();\r\n    authenticatorContainer.register(\"browser:secureStorage\", {\r\n        useValue: secureStorage,\r\n    });\r\n    authenticatorContainer.register(\"browser:insecureStorage\", {\r\n        useValue: insecureStorage,\r\n    });\r\n    return authenticatorContainer.resolve(ClientAuthentication_1.default);\r\n}\r\nexports.getClientAuthenticationWithDependencies = getClientAuthenticationWithDependencies;\r\n"},"sourceMaps":{"js":{"version":3,"file":"dependencies.js","sourceRoot":"","sources":["../src/dependencies.ts"],"names":[],"mappings":"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","sourcesContent":["/*\r\n * Copyright 2021 Inrupt Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal in\r\n * the Software without restriction, including without limitation the rights to use,\r\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\r\n * Software, and to permit persons to whom the Software is furnished to do so,\r\n * subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\r\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\n/**\r\n * @hidden\r\n * @packageDocumentation\r\n */\r\n\r\n/**\r\n * Top Level core document. Responsible for setting up the dependency graph\r\n */\r\nimport \"reflect-metadata\";\r\nimport { container as emptyContainer } from \"tsyringe\";\r\nimport {\r\n  IClientRegistrar,\r\n  IIssuerConfigFetcher,\r\n  ILoginHandler,\r\n  ILogoutHandler,\r\n  IOidcHandler,\r\n  IRedirector,\r\n  IRedirectHandler,\r\n  IStorage,\r\n  IStorageUtility,\r\n  ISessionInfoManager,\r\n  InMemoryStorage,\r\n} from \"@inrupt/solid-client-authn-core\";\r\nimport StorageUtilityBrowser from \"./storage/StorageUtility\";\r\nimport ClientAuthentication from \"./ClientAuthentication\";\r\nimport OidcLoginHandler from \"./login/oidc/OidcLoginHandler\";\r\nimport AggregateOidcHandler from \"./login/oidc/AggregateOidcHandler\";\r\nimport AuthorizationCodeOidcHandler from \"./login/oidc/oidcHandlers/AuthorizationCodeOidcHandler\";\r\nimport AuthorizationCodeWithPkceOidcHandler from \"./login/oidc/oidcHandlers/AuthorizationCodeWithPkceOidcHandler\";\r\nimport ClientCredentialsOidcHandler from \"./login/oidc/oidcHandlers/ClientCredentialsOidcHandler\";\r\nimport PrimaryDeviceOidcHandler from \"./login/oidc/oidcHandlers/PrimaryDeviceOidcHandler\";\r\nimport SecondaryDeviceOidcHandler from \"./login/oidc/oidcHandlers/SecondaryDeviceOidcHandler\";\r\nimport RefreshTokenOidcHandler from \"./login/oidc/oidcHandlers/RefreshTokenOidcHandler\";\r\nimport IssuerConfigFetcher from \"./login/oidc/IssuerConfigFetcher\";\r\nimport { FallbackRedirectHandler } from \"./login/oidc/redirectHandler/FallbackRedirectHandler\";\r\nimport GeneralLogoutHandler from \"./logout/GeneralLogoutHandler\";\r\nimport { SessionInfoManager } from \"./sessionInfo/SessionInfoManager\";\r\nimport { AuthCodeRedirectHandler } from \"./login/oidc/redirectHandler/AuthCodeRedirectHandler\";\r\nimport AggregateRedirectHandler from \"./login/oidc/redirectHandler/AggregateRedirectHandler\";\r\nimport BrowserStorage from \"./storage/BrowserStorage\";\r\nimport Redirector from \"./login/oidc/Redirector\";\r\nimport ClientRegistrar from \"./login/oidc/ClientRegistrar\";\r\nimport { ISessionManager, SessionManager } from \"./SessionManager\";\r\nimport AggregateLoginHandler from \"./login/AggregateLoginHandler\";\r\n\r\nconst container = emptyContainer;\r\n\r\ncontainer.register<IStorageUtility>(\"browser:storageUtility\", {\r\n  useClass: StorageUtilityBrowser,\r\n});\r\n\r\n// Session\r\ncontainer.register<ISessionInfoManager>(\"browser:sessionInfoManager\", {\r\n  useClass: SessionInfoManager,\r\n});\r\ncontainer.register<ISessionManager>(\"browser:sessionManager\", {\r\n  useClass: SessionManager,\r\n});\r\n\r\n// Login\r\ncontainer.register<ILoginHandler>(\"browser:loginHandler\", {\r\n  useClass: AggregateLoginHandler,\r\n});\r\ncontainer.register<ILoginHandler>(\"browser:loginHandlers\", {\r\n  useClass: OidcLoginHandler,\r\n});\r\n\r\n// Login/OIDC\r\ncontainer.register<IOidcHandler>(\"browser:oidcHandler\", {\r\n  useClass: AggregateOidcHandler,\r\n});\r\ncontainer.register<IOidcHandler>(\"browser:oidcHandlers\", {\r\n  useClass: RefreshTokenOidcHandler,\r\n});\r\n\r\ncontainer.register<IOidcHandler>(\"browser:oidcHandlers\", {\r\n  useClass: AuthorizationCodeOidcHandler,\r\n});\r\ncontainer.register<IOidcHandler>(\"browser:oidcHandlers\", {\r\n  useClass: AuthorizationCodeWithPkceOidcHandler,\r\n});\r\n\r\ncontainer.register<IOidcHandler>(\"browser:oidcHandlers\", {\r\n  useClass: ClientCredentialsOidcHandler,\r\n});\r\ncontainer.register<IOidcHandler>(\"browser:oidcHandlers\", {\r\n  useClass: PrimaryDeviceOidcHandler,\r\n});\r\ncontainer.register<IOidcHandler>(\"browser:oidcHandlers\", {\r\n  useClass: SecondaryDeviceOidcHandler,\r\n});\r\n\r\ncontainer.register<IRedirector>(\"browser:redirector\", {\r\n  useClass: Redirector,\r\n});\r\ncontainer.register<IClientRegistrar>(\"browser:clientRegistrar\", {\r\n  useClass: ClientRegistrar,\r\n});\r\n\r\n// Login/OIDC/redirectHandler\r\ncontainer.register<IRedirectHandler>(\"browser:redirectHandler\", {\r\n  useClass: AggregateRedirectHandler,\r\n});\r\ncontainer.register<IRedirectHandler>(\"browser:redirectHandlers\", {\r\n  useClass: AuthCodeRedirectHandler,\r\n});\r\n// This catch-all class will always be able to handle the\r\n// redirect IRI, so it must be registered last in the container\r\ncontainer.register<IRedirectHandler>(\"browser:redirectHandlers\", {\r\n  useClass: FallbackRedirectHandler,\r\n});\r\n\r\n// Login/OIDC/Issuer\r\ncontainer.register<IIssuerConfigFetcher>(\"browser:issuerConfigFetcher\", {\r\n  useClass: IssuerConfigFetcher,\r\n});\r\n\r\n// Logout\r\ncontainer.register<ILogoutHandler>(\"browser:logoutHandler\", {\r\n  useClass: GeneralLogoutHandler,\r\n});\r\n\r\n/**\r\n *\r\n * @param dependencies\r\n * @deprecated This function will be removed from the external API in an upcoming release.\r\n */\r\nexport function getClientAuthenticationWithDependencies(dependencies: {\r\n  secureStorage?: IStorage;\r\n  insecureStorage?: IStorage;\r\n}): ClientAuthentication {\r\n  const secureStorage = dependencies.secureStorage || new InMemoryStorage();\r\n  const insecureStorage = dependencies.insecureStorage || new BrowserStorage();\r\n\r\n  const authenticatorContainer = container.createChildContainer();\r\n  authenticatorContainer.register<IStorage>(\"browser:secureStorage\", {\r\n    useValue: secureStorage,\r\n  });\r\n  authenticatorContainer.register<IStorage>(\"browser:insecureStorage\", {\r\n    useValue: insecureStorage,\r\n  });\r\n  return authenticatorContainer.resolve(ClientAuthentication);\r\n}\r\n"]}},"error":null,"hash":"035a8cfe43ca9c0b04aff4c13ba14cc5","cacheData":{"env":{}}}